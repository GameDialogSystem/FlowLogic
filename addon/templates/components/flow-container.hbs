<svg width="100%"
     viewBox={{viewbox}}
     xmlns="http://www.w3.org/2000/svg"
     version="1.1"
     style={{svgSize}}>
  {{#each blocks as |block|}}
    {{#each block.outputs as |output|}}
      {{#if output.isConnected}}
        {{flow-connection startX=output.x
                          startY=output.y
                          endX=output.connection.input.x
                          endY=output.connection.input.y
                          offsetX = offsetX
                          offsetY = offsetY
        }}
      {{/if}}
    {{/each}}
  {{/each}}

  {{#if showReconnector}}
    {{flow-connection isAnimated=false startX=start.x startY=start.y endX=end.x endY=end.y}}
  {{/if}}
</svg>

{{#multi-selection as |selection|}}
  {{#each blocks as |block|}}
    {{component logicBlockComponent
      selection=selection
      model=block
      offsetX=offsetX
      offsetY=offsetY
      zoom=zoom
      onReroute=(action 'reroute')
      deleteBlock=(action 'deleteBlock')
      connectToNewBlock=(action 'connectToNewBlock')

      onElementSelect=(action 'elementSelected')
      onElementUnselect=(action 'elementUnselected')
      onElementMoved=(action 'elementMoved')
    }}
  {{/each}}
{{/multi-selection}}
